{% extends 'base.html' %}

{% block title %}Profile - Intentional Tech{% endblock %}

{% block content %}
<header>
    <h1>Profile</h1>
</header>

<!-- Settings Form -->
<section>
    <h2>Settings</h2>
    <form method="post">
        {% csrf_token %}
        
        Email: {{ user.email }}

        {% for field in form %}
        <label for="{{ field.id_for_label }}">
            {% if field.field.widget.input_type == 'checkbox' %}
                {{ field }}
                {{ field.label }}
            {% else %}
                {{ field.label }}
                {{ field }}
            {% endif %}
            {% if field.help_text %}
            <small>{{ field.help_text }}</small>
            {% endif %}
            {% if field.errors %}
            <small>{{ field.errors.0 }}</small>
            {% endif %}
        </label>
        {% endfor %}
        
        <button type="submit">Save Settings</button>
    </form>
</section>

<!-- Privacy & Data -->
<section>
    <h2>Privacy & Data</h2>
    <p>
        <a href="{% url 'accounts:export_data' %}" role="button" class="secondary">Export My Data</a>
    </p>
    <p><small>Download all your data as JSON</small></p>
</section>

<!-- Danger Zone -->
<section>
    <h2>Danger Zone</h2>
    <p>
        <a href="{% url 'accounts:delete_account' %}" role="button" class="contrast">Delete Account</a>
    </p>
    <p><small>Permanently delete your account and all data. This cannot be undone.</small></p>
</section>
{% endblock %}
