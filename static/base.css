/* ──────────────────────────────────────────────
   LIGHT THEME BASELINE
────────────────────────────────────────────── */
:root:not([data-theme="dark"]),
[data-theme="light"] {
	color-scheme: light;

	/* Brand colors */
	--brand: #3182ce;
	--brand-hover: #2563b5;

	/* Accent colors */
	--accent-green: #2f9e7d;
	--accent-green-soft: #d6ede3;
	--accent-blue-soft: #d8e6f9;
	--accent-red: #dc2626;
	--accent-amber: #f59e0b;

	/* Neutral palette */
	--pico-background-color: #fff;
	--pico-card-background-color: #ffffff;
	--pico-form-element-background-color: #ffffff;
	--pico-color: #373c44;
	--pico-h4-color: #4d535e;
	--pico-muted-color: #6b7280;
	--pico-border-color: #e5e7eb;

	/* Pico primary button (uses brand) */
	--pico-primary: var(--brand);
	--pico-primary-background: var(--brand);
	--pico-primary-border: var(--brand);
	--pico-primary-hover: var(--brand-hover);
	--pico-primary-hover-background: var(--brand-hover);
	--pico-primary-hover-border: var(--brand-hover);
	--pico-primary-inverse: #ffffff;

	/* Pico secondary button (medium blue) */
	--pico-secondary: #5b9bd5;
	--pico-secondary-background: #5b9bd5;
	--pico-secondary-border: #5b9bd5;
	--pico-secondary-hover: #4a8bc7;
	--pico-secondary-hover-background: #4a8bc7;
	--pico-secondary-hover-border: #4a8bc7;
	--pico-secondary-inverse: #ffffff;

	/* Pico contrast button (danger red) */
	--pico-contrast: var(--accent-red);
	--pico-contrast-background: var(--accent-red);
	--pico-contrast-border: var(--accent-red);
	--pico-contrast-hover: #b91c1c;
	--pico-contrast-hover-background: #b91c1c;
	--pico-contrast-hover-border: #b91c1c;
	--pico-contrast-inverse: #ffffff;

	--pico-block-spacing-vertical: 2rem;
	/* --pico-typography-spacing-vertical: 2rem; */

	/* Typography */
	font-family: system-ui, sans-serif;
	line-height: 1.6;

	/* Layout tokens */
	--content-width: 64rem;
	--section-gap: 3rem;
	--radius: 8px;
}

/* Force light mode universally */
html,
body {
	color-scheme: light;
	background-color: var(--pico-background-color);
	color: var(--pico-color);
}


/* Block dark mode preference override */
@media (prefers-color-scheme: dark) {
	:root,
	[data-theme="light"],
	html[data-theme="light"],
	html[data-theme="light"] body,
	html[data-theme="light"] nav,
	html[data-theme="light"] main,
	html[data-theme="light"] article,
	html[data-theme="light"] form,
	html[data-theme="light"] label,
	html[data-theme="light"] input,
	html[data-theme="light"] textarea,
	html[data-theme="light"] select,
	html[data-theme="light"] button {
		color-scheme: light;
		background-color: var(--pico-background-color);
		color: var(--pico-color);
	}

	html[data-theme="light"] input,
	html[data-theme="light"] textarea,
	html[data-theme="light"] select {
		background-color: var(--pico-form-element-background-color);
		border-color: var(--pico-border-color);
	}

	html[data-theme="light"] button {
		background-color: var(--pico-primary-background);
		color: var(--pico-primary-foreground);
	}
}

/* ──────────────────────────────────────────────
   NAVIGATION & FOOTER
────────────────────────────────────────────── */
nav .brand-link {
	text-decoration: none;
	color: inherit;
}

nav .brand-link:hover {
	text-decoration: underline;
}

footer {
	font-size: 0.875rem;
	text-align: center;
}

/* tweak spacing between top-level sections containing cards */
:not(section) > section.card + section,
:not(section) > section:has(.card:last-child) + section {
	margin-top: 5rem;
}

section:last-child {
	margin-bottom: 0;
}

/* ──────────────────────────────────────────────
   HERO SECTION
────────────────────────────────────────────── */
.hero {
	text-align: center;
	padding: 5rem 2rem 3rem;
	margin-bottom: 4rem;
	background: linear-gradient(135deg, #e8f2fc 0%, #f5f9fd 100%);
	border-radius: var(--radius);
}

.hero h1 {
	font-weight: 800;
	letter-spacing: -0.02em;
	line-height: 1.1;
	margin-bottom: 1.5rem;
}

.hero-line-small {
	display: block;
	font-size: clamp(1.5rem, 3.5vw, 2rem);
	font-weight: 600;
	letter-spacing: 0.05em;
	text-transform: uppercase;
	color: var(--brand);
	margin-bottom: 0.5rem;
}

.hero-line-large {
	display: block;
	font-size: clamp(2.25rem, 6vw, 3.75rem);
	font-weight: 800;
	letter-spacing: -0.02em;
	color: var(--pico-color);
	line-height: 1.1;
}

.hero h2 {
	font-size: clamp(1.0rem, 2.1vw, 1.35rem);	
	font-weight: 500;
	color: var(--pico-color);
	line-height: 1.5;
	margin-bottom: 2.5rem;
	max-width: 42rem;
	margin-inline: auto;
}

.hero-cta {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 2rem;
}

.hero-meta {
	color: var(--pico-muted-color);
	font-size: 0.9rem;
	margin: 0;
	line-height: 1.4;
}

/* responsive hero and CTA size for mobile */
@media (max-width: 640px) {
	.hero {
		padding: 3.5rem 1.5rem;
	}

	.btn-primary-large {
		font-size: 1rem;
		padding: 0.75rem 2rem;
		width: 100%;
		max-width: 320px;
	}
}

/**
  UI ELEMENTS
**/

/* Avatar / profile image */
.avatar {
	width: 160px;
	height: 160px;
	border-radius: 50%;
	object-fit: cover;
	border: 4px solid var(--pico-border-color);
	background: var(--pico-background-color);
}

@media (max-width: 600px) {
	.avatar {
		width: 140px;
		height: 140px;
	}
}

/* Divider */
.divider {
	max-width: 5rem;
	margin: 1.5rem auto;
	border: none;
	border-top: 3px solid var(--accent-green-soft);
	opacity: 1;
}

/* Video thumbnail */
.video-thumb {
	display: block;
	position: relative;
	border-radius: 8px;
	overflow: hidden;
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
}

.video-thumb img {
	display: block;
	width: 100%;
	height: auto;
	aspect-ratio: 16 / 9;
	object-fit: cover;
	transition: transform 0.2s ease;
}

.video-thumb:hover img {
	transform: scale(1.02);
}

.video-thumb .badge {
	position: absolute;
	bottom: 0.6rem;
	left: 0.6rem;
	background: rgba(0, 0, 0, 0.78);
	color: #fff;
	font-size: 0.7rem;
	font-weight: 600;
	padding: 0.3rem 0.55rem;
	border-radius: 4px;
}

/* when we have invalid form fields, we want a color for them. Pico CSS only looks at aria-invalid, but we want to style based on the :invalid pseudo-class. */
input:invalid,
textarea:invalid {
	border-color: var(--pico-form-element-invalid-border-color);
}

/* ──────────────────────────────────────────────
   ALERTS / TOAST NOTIFICATIONS
────────────────────────────────────────────── */
.toast-container {
	position: fixed;
	top: 1rem;
	right: 1rem;
	z-index: 10000;
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	max-width: 400px;
	min-width: 300px;
}

.alert {
	display: flex;
	align-items: flex-start;
	gap: 0.75rem;
	padding: 1rem 1.25rem;
	border-radius: 8px;
	border: 1px solid var(--pico-border-color);
	background: var(--pico-card-background-color);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	animation: slideIn 0.3s ease-out;
}

.alert--success {
	border-left: 4px solid var(--accent-green);
	background: linear-gradient(90deg, color-mix(in srgb, var(--accent-green) 10%, transparent) 0%, var(--pico-card-background-color) 30%);
}

.alert--danger {
	border-left: 4px solid var(--accent-red);
	background: linear-gradient(90deg, color-mix(in srgb, var(--accent-red) 8%, transparent) 0%, var(--pico-card-background-color) 30%);
}

.alert--warning {
	border-left: 4px solid var(--accent-amber);
	background: linear-gradient(90deg, color-mix(in srgb, var(--accent-amber) 10%, transparent) 0%, var(--pico-card-background-color) 30%);
}

.alert--info {
	border-left: 4px solid var(--brand);
	background: linear-gradient(90deg, color-mix(in srgb, var(--brand) 8%, transparent) 0%, var(--pico-card-background-color) 30%);
}

.alert__icon {
	flex-shrink: 0;
	font-size: 1.25rem;
	line-height: 1;
}

.alert--success .alert__icon { color: var(--accent-green); }
.alert--danger .alert__icon { color: var(--accent-red); }
.alert--warning .alert__icon { color: var(--accent-amber); }
.alert--info .alert__icon { color: var(--brand); }

.alert__message {
	flex: 1;
	font-size: 0.95rem;
	line-height: 1.5;
	color: var(--pico-color);
}

.alert__close {
	flex-shrink: 0;
	background: none;
	border: none;
	padding: 0.25rem;
	cursor: pointer;
	color: var(--pico-muted-color);
	font-size: 1.25rem;
	line-height: 1;
	opacity: 0.6;
	transition: opacity 0.15s;
}

.alert__close:hover {
	opacity: 1;
}

@keyframes slideIn {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes fadeOut {
	from { opacity: 1; }
	to { opacity: 0; }
}

/* ──────────────────────────────────────────────
   ACCORDION (Native details/summary)
────────────────────────────────────────────── */
details {
	border: 1px solid var(--pico-border-color);
	border-radius: 8px;
	background: var(--pico-card-background-color);
	margin-bottom: 0.5rem;
}

details summary {
	padding: 1rem 1.25rem;
	font-weight: 600;
	cursor: pointer;
	list-style: none;
	display: flex;
	justify-content: space-between;
	align-items: center;
}

details summary::-webkit-details-marker {
	display: none;
}

details summary::after {
	content: "+";
	background-image: none;
	font-size: 1.25rem;
	font-weight: 400;
	color: var(--pico-muted-color);
	transition: transform 0.2s ease;
}

details[open] summary::after {
	content: "−";
}

details > :not(summary) {
	padding: 0 1.25rem 1rem;
}

details p {
	margin: 0 0 0.75rem;
}

details p:last-child {
	margin-bottom: 0;
}


/* ──────────────────────────────────────────────
   LAYOUT UTILITIES
  ────────────────────────────────────────────── */

.content-centered {
	/* margin-inline: auto; */
	text-align: center;
}

.content-centered .card {
	margin-inline: auto;
}

/* Flex grow (pushes content to bottom) */
.flex-col { display: flex; flex-direction: column; }
.flex-grow { flex-grow: 1; }


/* Card Layout Helpers */
.card__stack {
	display: flex;
	flex-direction: column;
	gap: var(--card-stack-gap);
}


/* ──────────────────────────────────────────────
   CARD COMPONENT SYSTEM

	The card system has a few conceptual ideas about how it is expected to be used. 
	
	.card is the base component. It is a simple container with padding, border, and border-radius.

	A card is usually meant to group a section of related content together. 

	A card may have several sizes. The sizes determine layout, padding, margins, and fonts.
	- .card--small is for small cards that contain a single piece of information, and not any headers.
	- .card--medium is for most cards that contain a moderate amount of information, and may still have headers/overlines. It may not have other cards
	- .card--large is for larger cards that contain a lot of information and potentially any other cards.
	- .card--xl is for extra large cards that span the full width of the container. Headers are centered.

	Cards can have a few themes:
	The default theme styles the card as a simple container.
	- .card--info to use a text callout. Theese call out text even more, and group a smaller section of text. It is styled with a blue background.
//	- .card--success to use to call out positive information. It is styled with a green background.
//	- .card--warning to use to call out important information. It is styled with a yellow background.
//	- .card--error to use to call out negative information. It is styled with a red background.

	We use <hgroup> tags to specify a header. Any header class within the hgroup will be styled according to the card type (section, info, etc.)
	A hgroup may have a <p> tag before the header, indicating that is is an eyebrow. Any header class within the hgroup will be styled as a header. A hgroup may also have a <p> after a header, indicating that it is a subtitle.

	A card may have a list in it. If the list is the only child of the card, it will be styled as a flush list. 
	In a flush list, 
────────────────────────────────────────────── */

/*
	Base card component with CSS custom properties for sizing
	Variables cascade naturally, so nested cards override outer card values
*/
.card {
	/* Size variables - defaults (base/medium). Customized in .card--small, .card--medium, .card--large, and .card--xl */
	--card-h2-size: 1.25rem;
	--card-h2-weight: 700;
	--card-h2-margin: 0.5rem;
	--card-h3-size: 1.1rem;
	--card-h3-weight: 700;
	--card-h3-margin: 0.4rem;
	--card-h4-size: 1rem;
	--card-h4-weight: 700;
	--card-h4-margin: 0.3rem;
	--card-p-size: 1rem;
	--card-p-line-height: 1.6;
	--card-overline-size: 0.8rem;
	--card-overline-margin: 0.4rem;
	--card-stack-gap: 1.25rem;
	--card-hgroup-margin: 0.75rem;
	--card-hgroup-eyebrow-size: 0.75rem;
	--card-hgroup-eyebrow-margin: 0.3rem;
	--card-hgroup-p-size: 0.9rem;
	--card-hgroup-p-margin: 0.25rem;
	--card-hgroup-p-weight: 400;

	/* Color variables - defaults (base). Customized in .card--info, .card--success, .card--warning, .card--error */
	--card-foreground-color: var(--pico-color);
	--card-background-color: var(--pico-card-background-color);
	--card-border-color: var(--pico-border-color);

	padding: 1.5rem;
	border: 1px solid var(--card-border-color);
	border-radius: var(--radius);
	box-shadow: none;
	background: var(--card-background-color);
	color: var(--card-foreground-color);
}

/* assume that articles in cards are nested cards */
.card article {
	margin-bottom: 0;
}

.card :last-child {
	margin-bottom: 0;
}

/* Apply size variables to elements */
.card.card {
	font-size: var(--card-p-size);
	line-height: var(--card-p-line-height);
}
.card.card h2 { font-size: var(--card-h2-size); margin-bottom: var(--card-h2-margin); font-weight: var(--card-h2-weight); }
.card.card h3 { font-size: var(--card-h3-size); margin-bottom: var(--card-h3-margin); font-weight: var(--card-h3-weight); }
.card.card h4 { font-size: var(--card-h4-size); margin-bottom: var(--card-h4-margin); font-weight: var(--card-h4-weight); }

/* Apply theme-specific foreground color */
.card :is(address, blockquote, dl, ol, p, pre, table, ul) {
	color: var(--card-foreground-color);
}

/** 
	Card Modifiers - Colors (override variables)
**/
.card--info {
	--card-foreground-color: var(--pico-muted-color);
	--card-background-color: color-mix(in srgb, var(--pico-primary) 3%, var(--pico-card-background-color));
	--card-border-color: color-mix(in srgb, var(--pico-primary) 25%, var(--pico-border-color));
}

/* Card Modifiers - Accent borders */
.card--accent-left-blue {
	--card-border-color: var(--accent-blue-soft);
	border-left: 4px solid var(--card-border-color);
}

.card--accent-left-green {
	--card-border-color: var(--accent-green-soft);
	border-left: 4px solid var(--card-border-color);
}

.card--accent-top-blue {
	--card-border-color: var(--accent-blue-soft);
	border-top: 4px solid var(--card-border-color);
}

/** 
	Card Modifiers - Sizes (override variables)
**/
.card--small { padding: 0.75rem; }

.card--medium {
	--card-h2-size: 1.25rem;
	--card-h2-weight: 700;
	--card-h2-margin: 0.5rem;
	--card-h3-size: 1.4rem;
	--card-h3-weight: 700;
	--card-h3-margin: 0.4rem;
	--card-h4-size: 1rem;
	--card-h4-weight: 700;
	--card-h4-margin: 0.8rem;
	--card-p-size: 1rem;
	--card-p-line-height: 1.6;
	--card-overline-size: 0.8rem;
	--card-overline-margin: 0.4rem;
	--card-stack-gap: 1.25rem;
	--card-hgroup-margin: 0.75rem;
	--card-hgroup-eyebrow-size: 0.75rem;
	--card-hgroup-eyebrow-margin: 0.3rem;
	--card-hgroup-p-size: 1.05rem;
	--card-hgroup-p-margin: 0.25rem;
	--card-hgroup-p-weight: 700;

	padding: 1.25rem 1.5rem;
}

.card--large {
	--card-h2-size: 1.5rem;
	--card-h2-weight: 700;
	--card-h2-margin: 0.75rem;
	--card-h3-size: 1.65rem;
	--card-h3-weight: 700;
	--card-h3-margin: 0.6rem;
	--card-h4-weight: 700;
	--card-h4-size: 1.1rem;
	--card-h4-margin: 0.5rem;
	--card-p-size: 1rem;
	--card-p-line-height: 1.65;
	--card-overline-size: 0.85rem;
	--card-overline-margin: 0.5rem;
	--card-stack-gap: 1.5rem;
	--card-hgroup-margin: 1.25rem;
	--card-hgroup-eyebrow-size: 0.8rem;
	--card-hgroup-eyebrow-margin: 0.4rem;
	--card-hgroup-p-size: 0.95rem;
	--card-hgroup-p-margin: 0.35rem;

	padding: 1.75rem 2rem;
	max-width: 40rem;
}

.card--xl {
	--card-h2-size: 1.85rem;
	--card-h2-weight: 700;
	--card-h2-margin: 1rem;
	--card-h3-size: 1.4rem;
	--card-h3-weight: 700;
	--card-h3-margin: 0.75rem;
	--card-h4-size: 1.2rem;
	--card-h4-weight: 700;
	--card-h4-margin: 0.6rem;
	--card-p-size: 1.05rem;
	--card-p-line-height: 1.7;
	--card-overline-size: 0.9rem;
	--card-overline-margin: 0.6rem;
	--card-stack-gap: 1.75rem;
	--card-hgroup-margin: 1.5rem;
	--card-hgroup-eyebrow-size: 0.85rem;
	--card-hgroup-eyebrow-margin: 0.5rem;
	--card-hgroup-p-size: 1.15rem;
	--card-hgroup-p-margin: 0.5rem;
	--card-hgroup-p-weight: 700;

	padding: 2.5rem 3rem;
}

/* fix sizing of card-xl on mobile */
@media (max-width: 640px) {
	.card--xl {
		--card-h2-size: 1.5rem;
		--card-h3-size: 1.25rem;
		padding: 2rem 1.5rem;
	}
}

/* Card--xl layout: centered content (but have a max content width, not applied to dividers or cards) */
.card.card--xl {
	text-align: center;
}

.card.card--xl>* {
	margin-inline: auto;
}

/* Card--xl layout: centered content (but have a max content width, not applied to dividers or cards) */
@media (min-width: 640px) {
	.card--xl > :not(.card):not(.divider):not(:has(.card)) {
		max-width: 44rem;
	}
}

/* fix list display in card--xl */
.card--xl ul, .card--xl ol {
	display: inline-block;
	text-align: left;
	padding-left: 1.5rem;
	margin: 0;
}

/* Nested smaller cards reset to left-aligned */
.card--large, .card--medium, .card--small {
	text-align: left;
}

/**
 	Card hgroup - header groups with optional overline and subtitle 
 **/
.card.card hgroup {
	margin-bottom: var(--card-hgroup-margin);
}

.card.card hgroup > * {
	margin-bottom: 0;
}

/* small within hgroup acts as overline */
.card.card hgroup p:first-child {
	display: block;
	font-size: var(--card-hgroup-eyebrow-size);
	font-weight: 600;
	letter-spacing: 0.08em;
	text-transform: uppercase;
	color: var(--pico-muted-color);
	margin-bottom: var(--card-hgroup-eyebrow-margin);
}

/* p within hgroup acts as subtitle */
.card.card hgroup p {
	font-size: var(--card-hgroup-p-size);
	font-weight: var(--card-hgroup-p-weight);
	color: var(--pico-muted-color);
	margin-top: var(--card-hgroup-p-margin);
}


/* pico will color the final child in an hgroup. We want to disable that when using an overline, but there is no subtitle  */
/* pico matches this selector:hgroup>:not(:first-child):last-child  */
hgroup > p + h2:not(:first-child):last-child {
    --pico-color: var(--pico-h2-color);
}
hgroup > p + h3:not(:first-child):last-child {
    --pico-color: var(--pico-h3-color);
}
hgroup > p + h4:not(:first-child):last-child {
    --pico-color: var(--pico-h4-color);
}

/* in cards: figures with captions should bottom-align and add a quote */
figure.card {
	display: flex;
	flex-direction: column;
	height: 100%;
	margin: 0;

	& figcaption::before {
		content: "— ";
	}

	& figcaption {
		margin-top: auto;
	}
}

/* Lists in Cards */
/* When a ul is the only child of a card, make it flush */
.card > ul:only-child {
	list-style: none;
	padding: 0;
	margin: 0;
}

.card > ul:only-child li {
	display: flex;
	justify-content: space-between;
	align-items: baseline;
	gap: 1rem;
	padding: 0.75rem 0;
	border-bottom: 1px solid var(--pico-border-color);
}

.card > ul:only-child li:last-child {
	border-bottom: none;
	padding-bottom: 0;
}

.card > ul:only-child li:first-child {
	padding-top: 0;
}

.card > ul:only-child li {
	font-weight: 500;
}

.list__meta  {
	font-size: 0.85rem;
	color: var(--pico-muted-color);
	font-weight: var(--pico-font-weight);
	text-align: right;
}

